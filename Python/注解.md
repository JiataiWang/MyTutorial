---
type: Tool
collections: Python
title: 注解
tags: []
---

> 本来叫装饰器，但是我比较习惯叫注解。

装饰器在python中，万物皆为对象，对象有两种，不可变对象有Numbers、 String、tuples, 可变对象有List，set，dic。

如果有一个源函数，我们要想给他增加额外的功能，但是又不能修改源函数本身，就可以把这个源函数作为参数传入另一个双层嵌套的函数当中，在这个双层嵌套的函数的最内层函数调用这个源函数，并且实现一些其他功能的代码。这样就可以在不修改原函数的基础上，通过调用另一个以原函数作为参数的双层函数来实现。所以说注解的本身依然是一个函数，而且这个函数的输入，是另一个函数的名字。

但是这样比较麻烦，python为这种操作定义了一个语法糖，就是用@后面加上这个双层函数的名称，一旦加上了，当我们要调用原函数的时候，会直接默认调用了装饰器后面的双层函数，并且原函数是装饰器后面函数的输入参数，这样就非常方便。

甚至一个函数本身可以是对象，一个函数也可以被作为参数进行传递，这种情况外层方法实际上是为了优化传入的方法，而这种操作在实际情况往往非常常见。但是这的话由于没有返回值，通常要在方法内部在定义一个内部函数作为返回值，这样就比较麻烦，所以可以在@后面添加一个你要进行额外操作的方法名称：@方法名。也就是通过一个简单的@，就可以让函数拥有额外的功能。甚至在定义注解的时候，还可以给他传参。可以这么理解，你的方法定义了什么注解，你的方法就拥有了什么额外的功能。

通常@property和@name.setter会搭配使用。

@classmethod注解可以把方法当作工厂方法，可以通过方法来创建实例。

@staticmethod静态方法，那么就可以通过实例化对象访问，也可以通过类直接访问。

被注解@staticmethod所修饰的方法是不可能出现self的，这个注解就相当于一个类方法，不是对象方法而是类方法。静态方法，不需要实例化就可以调用的成员函数，其中不允许使用非静态成员。

